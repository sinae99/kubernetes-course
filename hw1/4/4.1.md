#### created by Notebook LM based on my notes
# Slice/Scope 

Systemd manages all processes and system resources with -----> **Control Groups (cgroups)**

cgroups ==> a `Linux kernel feature` that organizes everything into a **hierarchical** tree for resource allocation.
three unit types responsible for this organization are **Services**, **Slices**, and **Scopes**.

---

### 1. Service vs. Daemon:


*   **Daemon (The Process):**  the **executable program** running in the background (like a web server). This is the actual workload assigned a PID.
*   **Service Unit (`.service`):** This is the formal **configuration object** used by systemd to **manage**, **encapsulate**, and **control** those daemon processes.

**From a Process Perspective:** A Service unit is designed to hold **processes that systemd launched itself** based on a persistent configuration file. It has a concept of a "main process," and its configuration defines the resource limits applied to the group of PIDs it contains.

---

### 2. The Units Holding the Processes (The Execution Groups)

In the cgroup hierarchy ===> only Services and Scopes contain **actual running processes**.

#### A. The Service Unit (`.service`): Systemd-Managed Workloads

This unit manages planned, persistent system workloads.

| Process Perspective | Description |
| :--- | :--- |
| **Process Source** | Processes that are **explicitly started and supervised by systemd** via unit files. |
| **Role** | Provides tracking, reliability (restart policies), logging, and resource limits for system daemons. |
| **PIDs Contained** | The core daemon process and any worker threads or child processes spawned by that daemon. |

#### B. The Scope Unit (`.scope`): Externally-Managed Workloads

This unit manages transient, externally created processes that need to be subjected to system resource management.

| Process Perspective | Description |
| :--- | :--- |
| **Process Source** | Processes that are **created externally** (e.g., via a user login or virtualization software) and registered with systemd dynamically at runtime. |
| **Examples** | User login sessions (like an SSH shell), virtual machines (VMs), and Linux containers. |
| **Creation** | Scopes are **dynamically created** using systemdâ€™s API, rather than static unit files. |
| **Lifetime** | A scope unit remains active as long as **at least one process** exists within its group. |

---

### 3. The Slice (`.slice`): The Resource Organizer

The Slice unit is the architectural component that organizes the hierarchy and defines resource policy across groups of processes.

| Conceptual Role | Description |
| :--- | :--- |
| **Process Content** | Slices **do not contain any running processes (PIDs)**. They are structural entities used to organize other units (Services and Scopes). |
| **Structure** | Slices define the hierarchical tree, much like directories. This structure (e.g., `system.slice`, `user.slice`) allows for partitioning the total resources available on the system. |
| **Policy Application**| Slices set resource constraints (such as CPU or memory limits) that are automatically **inherited** and enforced on all Services and Scopes located within that slice or any of its children. |
| **Isolation** | They are used to separate major system categories (e.g., ensuring user activity does not starve critical system daemons) or isolating specific production workloads. |

---

### Conceptual Organization Summary

In the complete systemd hierarchy:

*   **Slices** are the containers that establish the rules and structure for resource distribution.
*   **Services** and **Scopes** are the final points of execution, containing the actual running processes (PIDs) that must obey the resource policies defined by their parent Slices.

